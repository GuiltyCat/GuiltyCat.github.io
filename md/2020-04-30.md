漫画の表示方法について:HTML,CSS
==================

はじめに
-----------

先に宣言しておこう．
ここでHTMLやCSSについての話が多く出てくるが，私には興味がない．
やりたいことは，漫画のようなビューワを作ることだが，
容量の観点から仕方なくしているのであって，こんなことに時間を取られたくない．

巷のサイトでは，HTML5だのこの書き方は古いだの色々と情報が錯綜しているように見える．

とりあえずの方針としては，できるだけ最新のものを，
そしてできるだけ行数を少なく，デフォルト値を多様して，
今後の修正箇所を少なくしておきたい．

もちろん，CSSを使わずにHTMLに直書きする手もあるが，
その度に`make`をし直すというのも手ではある．
どうせ大した量は書かないんだし．

HTML, CSSについて
---------------

とりあえず，HTML5とCSS3に対応させる．
CSS4もあるようだが，Wikipediaには草案とか書いてあったので，
まだよいだろう．

iframe
--------------

`<frameset>`や`<frame>`を使った分割は古いと言われている．
HTML5では廃止されたとか何とか．
代替としては`<iframe>`であり，
これは単に別ソースの読み込みだそうだ．

ただ，今回は左に一覧，右に画像を表示させたいので，
左はHTMLに直書きにしておきたい．
よくあるサンプルでは左右の共に別のHTMLを読み出すようになっている．
まったくもって通信の無駄だと思う．

なので，今回は`<dev>`の`id`を使う．
`id`と`class`の使い分けも色々あるようだが，
今回は左右に分割するだけなので，一意としていいだろう．
そして，左の一覧は`<iframe>`を使わずに直書き．
そして，右の画像部分は`<iframe>`を使って更新していくことにする．

ちなみに`id`は`#<name>{}`，`class`は`.<name>{}`という風に書く．


全体の構成
------------

全体の外観としては以下のような構成とする．
(HTMLの`<code>`って等幅フォントだったっけ？)

```
__________________
| 001 |  _______  |
| 002 |  |      | |
| 003 |  |      | |
| 004 |  |      | |
| 005 |  |      | |
| 006 |  |      | |
| 007 |  -------- |
| 008 |  << <> >> |
-------------------
```

静的なサイトしか作れないので，以下のような構成とする

```
- top.html
|- pages
 |- page01.html
 |- page02.html
 |- page03.html
 |- page04.html
```

そして`top.html`は`<iframe>`を含み，`<frame>`の内部で`pagexx.html>`を読み込む．
そして，ページが選択されると`<frame>`の

また，`pagexx.html`は内部で画像を読み込む．
この時，`<image>`を差し替えることができればよいのだが，できなさそう．

したがって，左の画像一覧リンクに対応した全てのページを作成しておく必要がある．
つまり画像枚数とHTML枚数が一致する．
もちろん，見開き表示をすれば半分にはなるが．

そして，各ページに対応したHTMLには，画像だけでなく，勧む，戻るボタンを設置する．

通常であれば，最初へとか最後へとかもあるが，
そもそもそんな需要があるのか疑わしいので，とりあえずスキップ．


ページ一覧(左)
---------

今回は，HTMLとCSSしかないので，入力受け付けができない．
だからかなりアナログな手法になってしまうだろう．

左の一覧ページには右の画像表示とは独立にスクロールバーを付け，
移動できるようにしたい．
これは，ページ一覧が長大になると画像サイズに対して縦長すぎるためだ．
また，右側でページ移動させた時も，現在の選択を移動させるなどして，上手く追従できるようにしておくと便利だろう．

ただし，スクロールの調整をしようとすると`JavaScript`を使う必要が出たりして面倒になる．
そこで，`id`を利用し，ページ内ジャンプで代用する．

つまり，右側(iframe内)には画像を表示さ，表示させるページ番号



画像の表示(右)
---------

ここはちょっと面倒だが，左右のページ移動ができるようにしておきたい．
さらに，左側のページ一覧の一番上がちょうど今の選択しているURLの場所になるように，左と右のページを連携させたい．

また，一枚の画像につき，一つのページを用意するのが単純なのだが，結構面倒．
本当であれば，画像だけを差し変えたいが．

アイディアとしては，

1. 各画像に対応するページを作成する．
2. 各画像と左右の移動を`<iframe>`にして，そこだけを入れ替える．




その他
------------

漫画を表示する時，
ページを分割してしまうと，見辛くなってしまう．
なので，一つの作品は一つのページで完結するようにしたい．

しかし，大量の画像を一つのページに貼り付けるのはよろしくない．
だから，左にページ一覧，右には画像一枚のものを作成したい．
つまり一つのページを二つに分割したい．

このような場合色々調べてみると`<iframe>`を使うのがよいらしい．
しかし，これはCSSを使う前提であるため，ちょっと面倒だ．
HTMLで完結させるには`<framset>`を使うのだが，モダンなHTMLでは推奨されない．

仕方がないので`<frame>`を使うまではよかったのだが，
今度は`float`と`flexbox`の話が出てきた．
できるだけ最新のものに合わせておきたいのだが，
そこまで高機能なものは作るつもりはない．
だから，CSS自体オーバースペックだし，管理が面倒だからいやなのだ．

古いと分かりつつも`<framset>`を使うか．
あるいは，見た目は最古級だが，ちゃんと最新のHTMLを意識したサイトにするか．
難しい選択だが，色々やってみて決めようと思う．

今回はここまでだが，いずれ更新して，
簡易漫画ビューワの説明資料にするつもりだ．



From other page
------------

画像の貼り付け方法だが，現在はimgurを使って画像のリンクを取得することを考えている．
imgurにコメントなんて付けられても見に行くのが面倒なので，
面倒なので，本当に画像への直リンクだ．
全てのコメントもここに集約してしまいたい．

また，これをどう表示するかが難しい．
一度に表示すると重くなるから，ページ内ページを活用する．
そして，簡単にページ移動ができるように，左側にページ番号のリンクを入れるなどして対応したい．

これもいざ描くとなれば自動で生成できるようにする．
