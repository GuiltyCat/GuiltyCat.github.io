Markdown To HTML:Markdown, HTML
=========================

`pandoc`がiPadで使えなかった．
なのでMarkdownをHTMLに変換するものを自作することにした．

`sed`の連続でもいいのだが，あまり効率が良くないので，`awk`を使う．

厳密な文法に従わせるのは面倒なので，基本的な部分だけは抑えて，
後は必要に応じて拡張することにする．


GNU拡張である`gensub`を使わずにいい感じに置換する方法を思いついたので，それについて書く．

これを使わない場合例えば，コードを表す\`で囲まれた文章を変更するには後方参照を使うだろう．
でも標準だと偶数番目のマッチだけを変更したり，後方参照したりはできない．

そこで，以下のように挟まれた領域を`match`で検索し，`sub`を2回呼び出すことで，
後方参照なしで同様の働きをできるようにした．

また，今回は行全体を変換したいので以下のように`while`でくるむ．

```
var = $0;
white ( match(var, /`[^`]`/) != 0 ){
	sub("`", "<code>", var);
	sub("`", "</code>", var);
}
```

これで`var`は上手くMarkdownのコード部分を解釈できる．

